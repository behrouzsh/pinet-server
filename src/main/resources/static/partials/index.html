<!DOCTYPE html>
<html lang="en" ng-app="plnApplication">
<meta charset="UTF-8">
<title>PiNET</title>

<head>

    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

    <!-- Custom  CSS -->
    <link rel="stylesheet" href="css/custom.css">


    <!-- Favicon -->
    <link rel="shortcut icon"
          href="images/pinet-logo.png"/>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <!--This one for showing picture in select tabs-->


    <script>
        $(document).ready(function () {
            $("#div1").scroll(function () {
                $("#div2").scrollTop($("#div1").scrollTop());
                $("#div2").scrollLeft($("#div1").scrollLeft());
            });
            $("#div2").scroll(function () {
                $("#div1").scrollTop($("#div2").scrollTop());
                $("#div1").scrollLeft($("#div2").scrollLeft());
            });

        });

    </script>
    <!--This is for the google analytics-->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-101774139-1', 'auto');
        ga('send', 'pageview');

    </script>


</head>

<body>
<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<div ng-controller="MainCtrl as ctrl">

    <div class="splash fade-in">
        <h1 class="splash-title fade-in">PiNET</h1>
        <h2 class="splash-title2 fade-in">Annotate Protein Peptides with PiNET.</h2>


        <div style="padding-top: 20px; background:transparent;">

            <div class=" container-fluid " style="width: 100%; max-width:1000px;">
                <div class="splash-title3 fade-in onerow2"> Enter peptides or use the list of
                </div>
                <button class="btn btn-primary onerow2" ng-click="ctrl.changeToP100Peptides('table')">
                    LINCS P100 peptides&nbsp;
                </button>

                <hr/>
                <div class="form-group col-sm-4" style="padding-left: 0px;">

                    <span style="float:left">

                        <a href="javascript:void(0);" ng-click="ctrl.formatInput=false"
                           style="text-decoration:none;"
                           ng-style="!ctrl.formatInput && {'font-weight': 'bold'}">Mass Difference</a>
                        /
                        <a href="javascript:void(0);" ng-click="ctrl.formatInput=true"
                           style="text-decoration:none;"
                           ng-style="ctrl.formatInput && {'font-weight': 'bold'}">Shorthand Notation</a>
                    </span>


                    <br/><br/>

                    <div style="padding-top:8px; padding-bottom:10px;">
                        <div ng-if="!ctrl.formatInput">
                            <textarea class="form-control" rows="5" ng-model="ctrl.textArea"></textarea>
                        </div>

                        <div ng-if="ctrl.formatInput">
                            <textarea class="form-control " rows="5" ng-model="ctrl.textArea"></textarea>
                        </div>
                    </div>

                </div>

                <div class="form-group col-sm-5 col-sm-offset-0">
                    <label style="padding-bottom: 24px;">Motifs&nbsp;
                        <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                              data-delay='{"show":"0", "hide":"100"}'
                              data-toggle="tooltip"
                              title="Parsed motifs are used to query ProSite API. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[^A-Z]/g">

                        </span>


                        <br/>
                    </label>
                    <div class=" list-responsive-vertical3" style=" word-wrap:break-word;" id="div1">
                        <div ng-repeat="motif in ctrl.parsedMotifs track by $index">{{motif}}<br/></div>
                    </div>
                </div>

                <div class="form-group col-sm-3 col-sm-offset-0">
                    <label style="padding-bottom: 24px;">Modifications&nbsp;
                        <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                              data-delay='{"show":"0", "hide":"100"}'
                              data-toggle="tooltip"
                              title="Parsed modifications are used to query PSIsty-MOD ontology. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[A-Z]\[\+[\d\.]+]/g">

                    </span><br/>
                    </label>
                    <div class="list-responsive-vertical2" style="word-wrap:break-word;" id="div2">
                        <div ng-repeat="modification in ctrl.parsedModificationsFormatter track by $index">
                            {{modification}}<br/></div>
                    </div>

                </div>

            </div>
        </div>


        <a ng-click="ctrl.showSplash=!ctrl.showSplash" class="splash-arrow fade-in"><img src="images/down-arrow.png"
                                                                                         alt=""/></a>
    </div>


    <div ng-show="!ctrl.showSplash">

        <nav class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header" >

                    <ul class="nav nav-tabs nav-tabs-center" >

                        <li ng-class="tabClass(tab)" ng-repeat="tab in tabs" tab="tab">
                            <a href="{{tab.link}}" ng-click="setSelectedTab(tab)">{{tab.label}}</a></li>
                        <!--<li><a href="https://github.com/uc-bd2k/Pilincs/wiki" target="_blank">Wiki</a>-->
                        <!--</li>-->
                        <!--<li><a href="http://dev3.ccs.miami.edu:8080/dcic-proteomics/" target="_blank">Download</a></li>-->
                        <!--<li><a href="https://github.com/behrouzsh/LINCS-Proteomics-Landing-Page" target="_blank">GitHub</a></li>-->
                    </ul>

                    <!--<ul class="nav navbar-nav navbar-right">-->

                    <!--</ul>-->
                </div>
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                            aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" style="color:#337AB7;" href="/">PiNET</a>
                </div>

                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                    </ul>
                    <ul class="nav navbar-nav col-sm-5">

                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="https://github.com/behrouzsh/PLNconverter-v2" target="_blank">GitHub</a></li>
                    </ul>

                </div>
            </div>

        </nav>


        <div class="container col-sm-12">


            <!--<div class="form-group col-sm-4" style="padding-left: 0px;">-->

            <div class="onerow" id="wrapper">
                <!--<h1><i class='icon-sort-by-attributes'></i> CSS3 <span>Card Deck Drop Down</span></h1>-->
                <div class="card-drop">
                    <a class='toggle' href="#">
                        <i class='human'></i>
                        <span class='label-active'>Homo Sapiens</span>
                    </a>
                    <ul>
                        <li class='active'>
                            <a data-label="Homo Sapiens" href="#"><i class='human'></i> Homo Sapiens</a>
                        </li>
                        <li>
                            <a data-label="Rattus Norvegicus" href="#"><i class='rat'></i> Rattus Norvegicus</a>
                        </li>
                        <li>
                            <a data-label="Mus Musculus" href="#"><i class='mouse'></i> Mus Musculus</a>
                        </li>


                    </ul>
                </div>
            </div>
            <!--</div>-->
            <!--<div class="form-group col-sm-4" style="padding-left: 0px;">-->

            <div class="onerow" id="wrapper2">
                <!--<h1><i class='icon-sort-by-attributes'></i> CSS3 <span>Card Deck Drop Down</span></h1>-->
                <div class="card-drop2">
                    <a class='toggle' href="#">
                        <i class='square-o'></i>
                        <span class='label-active'>Canonical Forms</span>
                    </a>
                    <ul>
                        <li class='active'>
                            <a data-label="Canonical Forms" href="#"><i class='square-o'></i> Canonical Forms</a>
                        </li>
                        <li>
                            <a data-label="Canonical+Iso Forms" href="#"><i class='plus-square-o'></i> Canonical+Iso
                                Forms</a>
                        </li>


                    </ul>
                </div>
            </div>
        </div>

    </div>
    <div class="container">
        <h3> About</h3>
        <hr/>
        <div class="bs-callout bs-callout-primary">
            <p>piNET can be used to annotate, map and analyze a set of peptide moieties
                (including post-translationally modified peptides) identified by either
                targeted (SRM type) or SWATH (discovery) proteomic assays, or another
                related mass spectrometry based protein moieties identification and
                quantification technique. Starting from a set of peptides, and optional
                modifications within those peptides, piNET provides mapping into
                canonical UniProt protein entries, standardized annotation of
                modifications using PsiMOD ontology, and mapping of the sites of PTMs in
                the full UniProt entries. piNET further generates Protein Line Notation
                tokens to represent each peptide moiety with modifications for automated
                annotation exchange systems. The set of proteins and PTM sites can be
                further projected onto biological pathways using enrichment analysis and
                a comprehensive library of biological gene/protein sets through Enrichr.
                For phosphorylation, PhosphoSitePlus known kinase - target peptides (and
                extrapolations form known examples to sufficiently similar putative
                target peptides) are used to provide a site specific network and
                pathways views. Work is in progress to extend the capabilities to
                include other PTMs in network projections, and to enable annotation of
                mouse and rat proteomics data.</p>
        </div>

    </div>


    <!--<h3>Start with Peptides</h3>-->
    <!--<hr/>-->


    <div class="container" style="padding-top: 20px;">

        <div class="well col-sm-12">
            <span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span> &nbsp;Enter peptides or for
            example use the list of
            <button class="btn btn-primary " ng-click="ctrl.changeToP100Peptides('table')">
                LINCS P100 peptides&nbsp;
            </button>
            <hr/>
            <div class="form-group col-sm-4" style="padding-left: 0px;">

                <span style="float:left">

                    <a href="javascript:void(0);" ng-click="ctrl.formatInput=false"
                       style="text-decoration:none;"
                       ng-style="!ctrl.formatInput && {'font-weight': 'bold'}">Mass Difference</a>
                    /
                    <a href="javascript:void(0);" ng-click="ctrl.formatInput=true"
                       style="text-decoration:none;"
                       ng-style="ctrl.formatInput && {'font-weight': 'bold'}">Shorthand Notation</a>
                </span>


                <br/><br/>

                <div style="padding-top:8px; padding-bottom:10px;">
                    <div ng-if="!ctrl.formatInput">
                        <textarea class="form-control" rows="5" ng-model="ctrl.textArea"></textarea>
                    </div>

                    <div ng-if="ctrl.formatInput">
                        <textarea class="form-control " rows="5" ng-model="ctrl.textArea"></textarea>
                    </div>
                </div>


                Delimiter: &nbsp;
                <label class="checkbox-inline">
                    <input type="checkbox" id="inlineCheckbox1" value="option2" checked="true" disabled="true">
                    comma
                </label>
                <label class="checkbox-inline">
                    <input type="checkbox" id="inlineCheckbox2" value="option1" checked="true" disabled="true">
                    semi-colon
                </label>
                <label class="checkbox-inline">
                    <input type="checkbox" id="inlineCheckbox3" value="option3" checked="true" disabled="true"> new
                    line
                </label>
                <a class="nav navbar-nav" style="padding-bottom: 12px;" href="/pln/modification.html"
                   target="_blank">Shorthand Notation Information</a>
            </div>

            <div class="form-group col-sm-5 col-sm-offset-0">
                <label style="padding-bottom: 24px;">Motifs&nbsp;
                    <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                          data-delay='{"show":"0", "hide":"100"}'
                          data-toggle="tooltip"
                          title="Parsed motifs are used to query ProSite API. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[^A-Z]/g">

                    </span>


                    <br/>
                </label>
                <div class=" list-responsive-vertical3" style=" word-wrap:break-word;" id="div1">
                    <div ng-repeat="motif in ctrl.parsedMotifs track by $index">{{motif}}<br/></div>
                </div>
            </div>

            <div class="form-group col-sm-3 col-sm-offset-0">
                <label style="padding-bottom: 24px;">Modifications&nbsp;
                    <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                          data-delay='{"show":"0", "hide":"100"}'
                          data-toggle="tooltip"
                          title="Parsed modifications are used to query PSIsty-MOD ontology. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[A-Z]\[\+[\d\.]+]/g">

                    </span><br/>
                </label>
                <div class="list-responsive-vertical2" style="word-wrap:break-word;" id="div2">
                    <div ng-repeat="modification in ctrl.parsedModificationsFormatter track by $index">
                        {{modification}}<br/></div>
                </div>

            </div>

        </div>
        <div class="accordion well" id="accordion2">
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"
                       style="text-decoration: none;">
                        <span style="color:steelblue;" class="glyphicon glyphicon-cog"></span> &nbsp;Output Format
                        Setting
                    </a>

                    <button class="btn btn-primary col-sm-offset-10" ng-click="ctrl.onSubmit('table')">
                        Convert &nbsp;
                        <span ng-show="ctrl.waiting">
                        <span class="glyphicon glyphicon-refresh glyphicon-spin"></span>
                        </span>
                    </button>

                </div>
                <div id="collapseTwo" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <span style="float:left">
                            <a href="javascript:void(0);" ng-click="ctrl.formatAsInchOrAllhits=false"
                               style="text-decoration:none;"
                               ng-style="!ctrl.formatAsInchOrAllhits && {'font-weight': 'bold'}">InChl-Like</a>
                            /
                            <a href="javascript:void(0);" ng-click="ctrl.formatAsInchOrAllhits=true"
                               style="text-decoration:none;"
                               ng-style="ctrl.formatAsInchOrAllhits && {'font-weight': 'bold'}">All-Hits</a>
                        </span>

                    </div>
                </div>

            </div>

        </div>

    </div>


    <div class="container">
        <div style="float:right;">
                <span ng-show="ctrl.waiting ">
                    <p>&nbsp;Prosite REST API responds usually within a couple of seconds for each query.</p>
                </span>
            <span ng-show="ctrl.waiting && ctrl.showOutput">
                    <p>
                        &nbsp;<span style='color:blue'>{{ctrl.prositeFoundNum}}</span> responses out of {{ctrl.motifLength}} motifs from prosite, Prosite server responded for <span
                            style='color:blue'>{{ctrl.prositeFound}}
                        </span>.
                    </p>
                </span>
            <span ng-show="ctrl.waiting && ctrl.showOutput">
                    <p>
                    &nbsp;Found <span style='color:blue'>{{ctrl.uniprotFoundNum}}</span> out of {{ctrl.uniprotLength}} proteins from the Uniprot server.
                    </p>
                </span>
        </div>


        <div class="container" ng-show="ctrl.showOutput && !ctrl.waiting">
            <div style="float:left;">

                    <span>
                        <p>
                        &nbsp;Found <span style='color:blue'>{{ctrl.prositeFoundNum}}</span> out of {{ctrl.motifLength}} motifs.
                        </p>

                        <p>
                        &nbsp;Found <span style='color:blue'>{{ctrl.uniprotFoundNum}}</span> out of {{ctrl.uniprotLength}} proteins from the Uniprot server.
                        </p>
                    </span>

            </div>
        </div>


        <div class="container" ng-show="!ctrl.showOutput && ctrl.noResponse &&!ctrl.waiting ">
            <br/><br/><br/>
            <strong>Prosite server is busy, please try reconnecting again later. </strong><br/>
        </div>

        <div class="container" ng-show="ctrl.showOutput && !ctrl.waiting">

            <br/><br/>


            <button class="btn btn-primary " ng-click="ctrl.showPLN = !ctrl.showPLN">
                Show Protein Line Notation (PLN) &nbsp;
            </button>

            <div ng-show="ctrl.showPLN">

                <h3>About PLN format</h3>
                <hr/>
                <div class="bs-callout bs-callout-primary">
                    <p>Protein Line Notation (PLN) is a notation that encodes “protein forms” as a linear string of
                        characters. A protein form is a “splice isoform, mutation variant and co- or
                        post-translationally
                        modified form (and combinations thereof) that can arise from translation from [a] PCG,” as
                        defined by
                        the PRO ontology (Natale 2011). It is based on the open-world assumption and can encode both
                        positive
                        and negative information.</p>
                </div>
                <hr/>
                <span style="float:right">
            <a href="javascript:void(0);" ng-click="ctrl.formatAsJsonOrInline=!ctrl.formatAsJsonOrInline"
               style="text-decoration:none;"
               ng-style="!ctrl.formatAsJsonOrInline && {'font-weight': 'bold'}">Inline</a>
            /
            <a href="javascript:void(0);" ng-click="ctrl.formatAsJsonOrInline=!ctrl.formatAsJsonOrInline"
               style="text-decoration:none;"
               ng-style="ctrl.formatAsJsonOrInline && {'font-weight': 'bold'}">JSON</a>

            </span>


                All hits:

                <pre class="boxed" ng-show="!ctrl.formatAsJsonOrInline" style="background-color: #D9EDF7">

                <div ng-if="!ctrl.formatAsInchOrAllhits">
                    <!--<textarea class="form-control" rows="3" style="background-color: #D9EDF7" ></textarea>-->
                    {{ctrl.plnFormatOne | inline}}
                </div>
                <div ng-if="ctrl.formatAsInchOrAllhits">
                    {{ctrl.plnFormatTwo | inline}}
                </div>
            </pre>

                <pre class="boxed" ng-show="ctrl.formatAsJsonOrInline" style="background-color: #D9EDF7">
                <div ng-if="!ctrl.formatAsInchOrAllhits">
                    {{ctrl.plnFormatOne | treeJSON}}
                </div>
                <div ng-if="ctrl.formatAsInchOrAllhits">
                    {{ctrl.plnFormatTwo | treeJSON}}
                </div>
            </pre>

            </div>


            <div class="container" ng-show="ctrl.showOutput && !ctrl.waiting">
                <br/>
                <h3>From Peptide to Protein/Gene</h3>
                <hr/>
            </div>


            <div ng-show="ctrl.showOutput && !ctrl.waiting">


                <br/><br/>
                <!--PSI-MOD ontology mapping response-->

                <!--<strong>PSI-MOD ontology mapping</strong>-->
                <!--<h3 class="well">PSI-MOD ontology mapping</h3>-->
                <!--<hr/>-->

                <div class="panel panel-default" ng-show="true">
                    <div class="well well-sm">
                        <h3>PSI-MOD ontology mapping</h3>
                    </div>
                    <!--<div class="panel panel-default">-->
                    <button class="btn btn-primary " ng-click="exportDataontologyMappings()">Download Table</button>
                    <!--</div>-->
                    <div class="panel panel-default">
                        <table class="table table-striped table-bordered">
                            <!--<caption></caption>-->
                            <thead>
                            <tr>

                                <th>Modification</th>
                                <th>Shorthand</th>
                                <th>Identifier</th>
                                <th>DiffAvg</th>
                                <th>Description</th>
                                <th>Similar</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="mapping in ctrl.ontologyMappings">
                                <td>{{mapping.modification}}</td>
                                <td>{{mapping.shorthand}}</td>
                                <!--New version of http://www.ebi.ac.uk/ols/ontologies/mod/terms?obo_id={{mapping.identifier}}-->
                                <!--Old version of http://www.ebi.ac.uk/ontology-lookup/?termId={{mapping.identifier}}-->
                                <td>

                                    <a ng-href="http://www.ebi.ac.uk/ols/ontologies/mod/terms?obo_id={{mapping.identifier}}"
                                       target="_blank">

                                        <!--<a ng-href="modification.html"-->
                                        <!--target="_blank">-->
                                        {{mapping.identifier}}</a>
                                </td>
                                <td>{{mapping.diffavg}}</td>
                                <td>{{mapping.description}}</td>
                                <td>
                            <span ng-repeat="similar in mapping.similar track by $index">
                                <a ng-href="http://www.ebi.ac.uk/ols/ontologies/mod/terms?obo_id={{mapping.identifier}}"
                                   target="_blank">{{similar.string}}</a><br/>
                            </span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <br/>

                <div class="well well-sm">

                    <h3>Search for peptides/proteins/genes</h3>

                    <form class="form-inline">
                        <div class="form-group">
                            <label>Search</label>
                            <input type="text" ng-model="search" class="form-control" placeholder="Search">
                        </div>
                    </form>
                </div>

                <br/>
                <div class="panel panel-default" ng-show="true">
                    <div class="well well-sm">
                        <h3>Peptide to Protein Mapping</h3>
                    </div>
                    <!--<div class="panel panel-default">-->
                    <button class="btn btn-primary " ng-click="exportDataprResponseList()">Download Table</button>
                    <!--</div>-->
                    <div class="panel panel-default">

                        <table class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <!--<th ng-click = "sort('motif')">-->
                                <!--<button>motif</button>-->
                                <!--<span class="glyphicon sort-icon" ng-show="sortKey=='motif'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>-->
                                <!--</th>-->
                                <!--<th ng-click = "sort('length')">-->
                                <!--<button>hits</button>-->
                                <!--<span class="glyphicon sort-icon" ng-show="sortKey=='length'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>-->
                                <!--</th>-->
                                <th>peptide</th>
                                <th>hits</th>
                                <th>sequence_ac</th>
                                <th>sequence_id</th>
                                <th>sequence_db</th>
                                <th>start</th>
                                <th>stop</th>
                                <th>signature_ac</th>
                            </tr>
                            </thead>

                            <tbody dir-paginate="item in ctrl.prResponseList | filter:search | orderBy:'-length' | itemsPerPage:10 "
                                   pagination-id="metaData1">
                            <!--<tbody  ng-repeat="item in ctrl.prResponseList | orderBy:'-length' | itemsPerPage:10 | filter:search" >-->

                            <tr ng-repeat="member in item.response">
                                <td rowspan="{{item.response.length}}" ng-if="$index == 0">{{item.peptide}}</td>
                                <td rowspan="{{item.response.length}}" ng-if="$index == 0">{{item.length}}</td>
                                <td>
                                    <span>
                                            <a ng-href="http://www.uniprot.org/uniprot/{{member.sequence_ac}}"
                                               target="_blank">{{member.sequence_ac}}</a>
                                    </span>
                                </td>
                                <!--<td>{{member.sequence_ac}}</td>-->
                                <td>{{member.sequence_id}}</td>
                                <td>{{member.sequence_db}}</td>
                                <td>{{member.start}}</td>
                                <td>{{member.stop}}</td>
                                <td>{{member.signature_ac}}</td>

                            </tr>
                            </tbody>
                        </table>

                        <dir-pagination-controls
                                pagination-id="metaData1"
                                max-size="10"
                                direction-links="true"
                                boundary-links="true">
                        </dir-pagination-controls>
                    </div>
                </div>


                <!--Uniprot response-->

                <div class="panel panel-default" ng-show="true">
                    <div class="well well-sm">
                        <h3>Protein to Peptide Mapping</h3>
                    </div>
                    <!--<div class="panel panel-default">-->
                    <button class="btn btn-primary " ng-click="exportDatasequence_acListComplete()">Download Table
                    </button>
                    <!--</div>-->
                    <div class="panel panel-default">
                        <table class="table table-striped table-bordered">
                            <thead>
                            <tr>

                                <th>sequence_ac</th>
                                <th>hits</th>
                                <th>peptide</th>
                                <th>gene symbols</th>
                                <th>length</th>
                                <th>sequence</th>

                            </tr>
                            </thead>
                            <tbody dir-paginate="item in ctrl.sequence_acListComplete | filter:search | orderBy:'-length' | itemsPerPage:10 "
                                   pagination-id="metaData2">
                            <!--<tbody dir-paginate="item in ctrl.sequence_acListComplete |filter:search | orderBy:'-length' |orderBy:sortKey:reverse | itemsPerPage:10">-->

                            <!--<tr>-->
                            <!---->
                            <!--</tr>-->
                            <tr ng-repeat="member in item.members">
                                <td rowspan="{{item.length}}" ng-if="$index == 0">
                            <span>
                                <a ng-href="http://www.uniprot.org/uniprot/{{item.name}}"
                                   target="_blank">{{item.name}}</a>
                            </span>
                                </td>
                                <!--<td rowspan="{{item.length}}" ng-if="$index == 0">{{item.name}}</td>-->
                                <td rowspan="{{item.length}}" ng-if="$index == 0">{{item.length}}</td>
                                <td>{{member.peptide}}</td>
                                <td>
                            <span ng-repeat="gene_id in member.gene_id track by $index">
                                <a ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{gene_id}}"
                                   target="_blank">{{gene_id}}</a><br/>
                            </span>
                                </td>
                                <!--<td>-->
                                <!--<span ng-repeat="gene_id in member.gene_id track by $index">-->
                                <!--<a>{{gene_id}}</a><br/>-->
                                <!--</span>-->
                                <!--</td>-->

                                <td>{{member.length}}</td>
                                <!--<td><textarea style="width:720px; height: 65px; word-wrap:break-word;">{{item.sequence.slice(0,item.start-1)}}</textarea></td>-->
                                <td>
                                    <!--{{item.sequence.slice(0,item.start-1)}}({{item.sequence.slice(item.start-1,item.stop)}}){{item.sequence.slice(item.stop,item.sequence.length)}}-->
                                    <!--"list-responsive-vertical"-->
                                    <!-->
                                    <div class="list-responsive-vertical" style="word-wrap:break-word;">
                                        {{member.sequence.slice(0,member.start-1)}}<span style='color:red'>{{member.sequence.slice(member.start-1,member.stop)}}</span>{{member.sequence.slice(member.stop,member.sequence.length)}}
                                    </div>
                                </td>
                            </tr>

                            </tbody>
                        </table>
                        <dir-pagination-controls
                                pagination-id="metaData2"
                                max-size="10"
                                direction-links="true"
                                boundary-links="true">
                        </dir-pagination-controls>
                    </div>
                </div>

                <br/>


                <div class="panel panel-default" ng-show="true">
                    <div class="well well-sm">
                        <h3>Peptide to Modification Mapping</h3>
                    </div>
                    <!--<div class="panel panel-default">-->
                    <button class="btn btn-primary " ng-click="exportDatapeptideToModificationList()">Download Table
                    </button>
                    <!--</div>-->
                    <div class="panel panel-default">

                        <table class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th>peptide</th>
                                <th>hits</th>
                                <th>sequence_ac</th>
                                <th>gene symbols</th>
                                <th>modification</th>
                                <th>shorthand</th>
                            </tr>
                            </thead>

                            <!--<tbody ng-repeat="item in ctrl.prResponseList |filter:search | orderBy:'-length' | orderBy:sortKey:reverse | itemsPerPage:10">-->
                            <tbody dir-paginate="item in ctrl.peptideToModificationList | filter:search | orderBy:'-length' | itemsPerPage:10 "
                                   pagination-id="metaData3">
                            <!--<tr>-->
                            <!---->
                            <!--</tr>-->

                            <tr ng-repeat="member in item.response">
                                <td rowspan="{{item.length}}" ng-if="$index == 0">{{item.motif}}</td>
                                <td rowspan="{{item.length}}" ng-if="$index == 0">{{item.length}}</td>
                                <!--<td rowspan="{{item.response.length}}" ng-if="$index == 0">{{item.motif}}</td>-->
                                <!--<td rowspan="{{item.response.length}}" ng-if="$index == 0">{{item.length}}</td>-->
                                <td>
                            <span>
                                    <a ng-href="http://www.uniprot.org/uniprot/{{member.sequence_ac}}"
                                       target="_blank">{{member.sequence_ac}}</a>
                            </span>
                                </td>
                                <td>
                            <span ng-repeat="gene_id in member.geneArray track by $index">
                                <a ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{gene_id}}"
                                   target="_blank">{{gene_id}}</a><br/>
                            </span>
                                </td>
                                <td>
                            <span ng-repeat="gene_mass in member.ptmGenesMass track by $index" style='color:green'>
                                {{gene_mass}}<br/>
                            </span>
                                </td>
                                <td>
                            <span ng-repeat="gene_short in member.ptmGenesShorthand track by $index "
                                  style='color:green'>
                                {{gene_short}}<br/>
                            </span>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <dir-pagination-controls
                                pagination-id="metaData3"
                                max-size="10"
                                direction-links="true"
                                boundary-links="true">
                        </dir-pagination-controls>
                    </div>
                </div>

            </div>
            <!--end of section 2-->


            <div class="container" ng-show="ctrl.showOutput && !ctrl.waiting">
                <br/>
                <h3>From Protein/Gene to Pathways</h3>
                <hr/>
            </div>


            <!--<div class="container">-->

            <!--<span align=center ng-show="ctrl.showOutput && !ctrl.waiting">-->
            <!--<button ng-show="!ctrl.showSection3"-->
            <!--style=" background: url(images/pinet_bar-3.png); width:540px; height:150px;"-->
            <!--ng-click="ctrl.showSection3 = !ctrl.showSection3"></button>-->
            <!--<button ng-show="ctrl.showSection3"-->
            <!--style=" background: url(images/pinet_bar-3-2.png); width:540px; height:150px;"-->
            <!--ng-click="ctrl.showSection3 = !ctrl.showSection3"></button>-->
            <!--&lt;!&ndash;<button ng-style="ctrl.showSection3 && {background: url(images/pinet_bar-3.png); width:540px; height:150px;} "  ng-click="ctrl.showSection3 = !ctrl.showSection3"></button>&ndash;&gt;-->

            <!--</span>-->
            <!--</div>-->
            <div ng-show="ctrl.showOutput && !ctrl.waiting">
                <h3>Pathway Analysis</h3>

                <!--<span style="float:left">-->
                <!--<button style="background: url(images/pathway.png); width:140px; height:35px;" ng-click="customNavigateApi(ctrl.geneIdList)">See the enrichment API</button>-->
                <!--</span>-->
                <!--<span style="float:left">-->
                <span>
                        <button style="background: url(images/pathway.png); width:200px; height:50px;"
                                ng-click="customNavigateGraphics(ctrl.geneIdList)">

                        </button>
                    </span>

            </div>

            <!--<div class="container" ng-show="ctrl.showOutput && !ctrl.waiting">-->
            <!--<br/>-->
            <!--<h3>From Pathways to LINCS data (Under Construction)</h3>-->
            <!--<hr/>-->
            <!--</div>-->


        </div>

        <div class="container" style="padding-top: 20px;">
            <h3> References</h3>
            <hr/>

            <div class="bs-callout bs-callout-default">
                <p>Natale, D. A., Arighi, C. N., Barker, W. C., Blake, J. A., Bult, C. J., Caudy, M., … Wu, C. H.
                    (2011).
                    The Protein Ontology: a structured representation of protein forms and complexes. Nucleic Acids
                    Research, 39(Database issue), D539–D545. doi:10.1093/nar/gkq907.</p>
            </div>
        </div>
    </div>
    <!--{{ctrl.responseRaw}}-->
    <!--{{ctrl.uniprotResponseRaw[0]}}-->
</div>
<footer class="footer">

    <div class="container">
        <p class="text-muted" style="padding-top:5px; text-align: right;">Developed within NIH funded <a
                href="http://lincsproject.org" target="_blank">LINCS Project</a></p>
    </div>

    <!-- jQuery required by Bootstrap -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>

    <!-- AngularJS -->
    <script src="bower_components/angular/angular.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- dirPagination JS -->
    <script src="bower_components/bootstrap/dist/js/dirPagination.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-filter/0.5.8/angular-filter.min.js"></script>

    <!--<script src="https://d3js.org/d3-selection.v1.min.js"></script>-->
    <script src="http://d3js.org/d3.v3.js"></script>
    <!--This is for downloading the table data-->
    <script src="https://cdn.jsdelivr.net/alasql/0.3/alasql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.7.12/xlsx.core.min.js"></script>
    <!--This is for showing figures in the select-->
    <!--<script src="bower_components/ddslick/jquery.ddslick.min.js"></script>-->
    <script src="http://cdn.rawgit.com/prashantchaudhary/ddslick/master/jquery.ddslick.min.js"></script>

    <!-- PLN Angular -->
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>

</footer>
<!--End of showSplash-->

</div>
</body>
</html>
