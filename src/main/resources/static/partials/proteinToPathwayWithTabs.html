<!--<head>-->
<!--<script src="js/controllers.js"></script>-->
<!--</head>-->
<!--<div ng-init="retrieveGenesAndPtm()">-->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid" style="align-content: center">
        <div class="container" style="display:table; margin: 0 auto;">


            <div id="breadcrumbNav3" style="display:table; margin: 0 auto;">


                <div id="arrowBar3" ng-model="ctrl.siteVisit">

                    <a href="javascript:void(0);" ng-click="goToAbout()"> <span
                            class="AB3rotate1 color0"><span class="AB3rotateReset">
                                    <span class="AB3text1">
                                        <!--<span-->
                                        <!--style="background: url(images/pathway.png); width:200px; height:50px;"/>-->
                                        PiNET
                                </span></span></span></a>


                    <a href="javascript:void(0);" ng-click="goToPeptideToProtein();">

                                    <span class="AB3rotate2 color1">
                                        <span class="AB3rotateReset">
                                            <span class="AB3text2">
                                                Peptides2Proteins

                                            </span>
                                        </span>
                                    </span>
                    </a>
                    <!--ng-click="ctrl.peptideOrGenes=false"-->
                    <a href="javascript:void(0);" ng-click="goToProteinToPathway();">

                                <span
                                        class="AB3rotate3 color2"><span class="AB3rotateReset"><span
                                        class="AB3text3">Proteins2Pathways

                                </span></span></span></a>
                    <a href="javascript:void(0);" ng-click="goToPathwayToPerturbation()" >

                                    <span
                                            class="AB3rotate4 color3"><span class="AB3rotateReset"><span
                                            class="AB3text4">Pathways2Perturbation

                                </span></span></span></a>


                    <a href="javascript:void(0);" style="pointer-events: none;"> <span
                            class="AB3rotate5 color4" style="pointer-events: none;"><span
                            class="AB3text5">{{ctrl.siteVisit.all}} Submissions

                                </span></span></a>


                </div>
            </div>

        </div><!-- /.container-fluid -->
    </div><!-- /.container-fluid -->
</nav>


<br/>
<!--<div class="outerTabs">-->
<!--<div class="tab-2">-->
<!--<label for="tab2-1">Genes</label>-->
<!--<input id="tab2-1" name="tabs-two" type="radio" checked="checked">-->
<!--<div>-->

<!--<h4>Genes</h4>-->
<!--<div class="tabs2">-->

<!--<input type="radio" id="tab1-1" name="tab-control" checked>-->
<!--<input type="radio" id="tab1-2" name="tab-control">-->

<!--<ul>-->
<!--<li title="Genes"><label for="tab1-1" role="button"><br><span>Genes</span></label></li>-->
<!--<li title="Site Specific Uniprottein"><label for="tab1-2" role="button"><br><span>Site Specific Uniprottein</span></label></li>-->

<!--</ul>-->

<!--<div class="slider"><div class="indicator"></div></div>-->
<!--<div class="content">-->
<!--<section>-->
<!--<h2>Pathways</h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ea dolorem sequi, quo tempore in eum obcaecati atque quibusdam officiis est dolorum minima deleniti ratione molestias numquam. Voluptas voluptates quibusdam cum?</section>-->
<!--<section>-->
<!--<h2>Disease/Drug</h2>-->


<!--temporibus eos commodi aliquid impedit amet, similique nulla.-->
<div class="tabset" style="padding-top: 50px;">
    <!-- Tab 1 -->
    <input type="radio" name="tabset" id="ptmProteinList" value="ptmGenetab1" aria-controls="ptm">
    <label for="ptmProteinList">PTM/Protein-centric Network Analysis</label>

    <!-- Tab 2 -->
    <input type="radio" name="tabset" id="geneList" value="ptmGenetab2" aria-controls="genes">
    <label for="geneList">Gene-centric Network Analysis</label>
    <!-- Tab 3 -->


    <div class="tab-panels">

        <section id="ptm" class="tab-panel">
            <!--<h4>Network Analysis of site Specific PTM Proteins</h4>-->
            <div class="container" style=" box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    border-radius: 5px;">
                <div class="well col-sm-12" style="border-color: black ">
                    <div class="col-sm-8">
                        Enter Proteins/PTM Proteins or for example try the list of
                        <a href="javascript:void(0);" class="onerow2" ng-click="ctrl.changeToP100PTMs('table')"
                           ng-style="{'font-weight': 'bold'}">
                            LINCS P100 associated PTM Proteins&nbsp;
                        </a>
                        . PTM/Proteins names can be separated by comma, semi-colon or new line.
                    </div>

                    <div class="form-group col-sm-4" style="padding-left: 0px;">
                        <span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span> &nbsp;<span
                            style="font-weight: bold">Select Organism</span>
                        <br/>
                        <form>
                            <div id='type'>
                                <input type="radio" id="homosapiens" name="r3" value="9606"/>
                                <label for="homosapiens" style="font-weight: normal"><span></span>Homo
                                    Sapiens</label>
                                <p>
                                    <input type="radio" id="mouse" name="r3" value="10090"/>
                                    <label for="mouse" style="font-weight: normal"><span></span>Mus Musculus</label>
                                </p>
                                <p>
                                    <input type="radio" id="rat" name="r3" value="10116"/>
                                    <label for="rat" style="font-weight: normal"><span></span>Rattus
                                        Norvegicus</label>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <div class="container" style="padding-top: 10px;">

                <div class="well col-sm-12">

                    <!--<a style="text-decoration: none;">-->
                    <!--<a class= "collapse in" class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne" style="text-decoration: none; ">-->

                    <!--<span style="color:steelblue;" class="glyphicon glyphicon-cog"></span> &nbsp;-->
                    <!--Enter Gene/Phosphogenes or for example try the list of-->
                    <!--<button class="btn btn-primary " ng-click="ctrl.changeToP100('table')">-->
                    <!--LINCS P100 data set&nbsp;-->
                    <!--</button>-->
                    <!--. Gene names should be sparated by comma, semi-colon or new line.-->
                    <!--<hr/>-->

                    <div class=" form-group col-sm-4" style="padding-left: 0px;">
                        <div class="horizontal-scroll" style=padding-bottom:10px;">
                            <!--<div class="horizontal-scroll" style="padding-top:8px; padding-bottom:10px;" >-->
                            <span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span>
                            <label style="padding-bottom: 24px;">Enter PTM/Proteins&nbsp;
                                <br/>
                            </label>


                            <!--<span style="float:left">-->
                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span> &nbsp;Enter genes/PTM genes-->
                            <!--</span>-->
                            <div>

                                    <textarea class="form-control" rows="5"
                                              ng-model="ctrl.inputMassPtmProteins"></textarea>
                                <!--console.log()-->
                            </div>

                        </div>


                        Delimiter: &nbsp;
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox4" value="option2" checked="true"
                                   disabled="true"> comma
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox5" value="option1" checked="true"
                                   disabled="true">
                            semi-colon
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox6" value="option3" checked="true"
                                   disabled="true"> new line
                        </label>
                        <!--<a class="nav navbar-nav" style="padding-bottom: 12px;" href="/pln/modification.html" target="_blank">Input Format Description</a>-->
                        <!--<div style="float:left;">-->
                        <!--<span>-->
                        <!--<hr/>-->
                        <!--<p>-->
                        <!--&nbsp;<span style='color:blue'>{{ctrl.numberOfAllValidGenes}}</span> out of {{ctrl.numberOfAllInputGenes}} input genes are common with Homo Sapiens.-->
                        <!--</p>-->

                        <!--<span ng-show="ctrl.flagFoundNPCG" >-->
                        <!--<a href="#" title="{{ctrl.nonValidGenes}}">Mouse over to see the non conforming genes with Homo Sapiens genes</a>-->

                        <!--</span>-->


                        <!--<span ng-if="ctrl.flagFoundNPCG">-->
                        <!--&nbsp;Not valid genes are:-->
                        <!--<span style='color:blue'>-->
                        <!--<div ng-repeat="nonValid in ctrl.nonValidGenes">{{nonValid}}&nbsp</div>-->
                        <!--</span>-->
                        <!--Gene name identification is case sensitive, Try other names of these genes or copy and paste the gene names again!-->
                        <!--</span>-->

                        <!--</span>-->
                        <!--</div>-->
                    </div>


                    <div class=" form-group col-sm-2 col-sm-offset-0">
                        <label style="padding-bottom: 14px;">Proteins&nbsp;
                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-question-sign"-->
                            <!--data-delay='{"show":"0", "hide":"100"}'-->
                            <!--data-toggle="tooltip"-->
                            <!--title="Parsed motifs are used to query ProSite API. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[^A-Z]/g">-->

                            <!--</span>-->


                            <!--<br/>-->
                        </label>
                        <div class=" list-responsive-vertical2" style="word-wrap:break-word;" id="div11">
                            <!--<div ng-repeat="gene in ctrl.parsedGenes track by $index">{{gene}}<br/></div>-->
                            <span ng-repeat="parsedPTMProtein in ctrl.parsedPTMProteins track by $index">
                                {{parsedPTMProtein[0]}}<br/></span>
                        </div>
                    </div>

                    <div class=" form-group col-sm-4 col-sm-offset-0">
                        <label style="padding-bottom: 24px;">Post Translational Modification&nbsp;
                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-question-sign"-->
                            <!--data-delay='{"show":"0", "hide":"100"}'-->
                            <!--data-toggle="tooltip"-->
                            <!--title="Parsed modifications are used to query PSIsty-MOD ontology. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[A-Z]\[\+[\d\.]+]/g">-->

                            <!--</span>-->
                            <br/>
                        </label>
                        <div class="list-responsive-vertical3" style="word-wrap:break-word;" id="div12">
                            <div ng-repeat="parsedPTM in ctrl.parsedPTMs ">
                                <span ng-repeat="PTM in parsedPTM ">
                                {{PTM}}&nbsp;&nbsp;
                                </span>

                                <!--{{ctrl.parsedPTMs}}-->
                                <!--<div ng-repeat="parsedPTMItem in parsedPTM ">-->
                                <!--{{parsedPTMItem}}</div> &nbsp;-->
                            </div>
                        </div>

                    </div>

                    <div class=" form-group col-sm-2 col-sm-offset-0">
                        <label style="padding-bottom: 10px;">Abundance&nbsp;
                            <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                                  data-delay='{"show":"0", "hide":"100"}'
                                  data-toggle="tooltip"
                                  title="This is normalized abundance of PTM/Proteins, if not inserted, it is assumed to be 'NA'.">
                        </span>
                            <br/>
                        </label>
                        <div class="list-responsive-vertical2" style="word-wrap:break-word;" id="div12-1">
                            <div ng-repeat="abundance in ctrl.proteinAbundance track by $index">
                                {{abundance | limitTo:6}}
                                <br/>
                            </div>
                        </div>

                    </div>

                    <button style="float:right" class="btn btn-primary col-sm-offset-10" ng-show=" ctrl.showPtmSubmit"
                            ng-click="ctrl.onSubmitPtm('table')">
                        Submit &nbsp;
                        <span ng-show="ctrl.ptmWaiting && !ctrl.phosphoError">
                                 <span class="glyphicon glyphicon-refresh glyphicon-spin">

                                        </span>
                            <!--<span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>-->
                            </span>
                    </button>


                </div>
                <!--<div>{{ctrl.showGeneSubmit}}-->
                <!--{{ctrl.showPtmSubmit}}</div>-->

                <div class="container" ng-show="ctrl.showPhosphoGeneNetwork ">

                    <form class="form-inline">
                        <div class="form-group">
                            <label>Search</label>
                            <input type="text" ng-model="search" class="form-control" placeholder="Search">
                        </div>
                    </form>

                    <hr/>
                    <!--iptmnet network-->
                    <div ng-show="ctrl.showPhosphoGeneNetwork">
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Network of Targeted PTM/Proteins via iPTMnet


                                <span ng-show="!ctrl.showPhosphoGeneNetworkProcessed && !ctrl.phosphoError">
                                    <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                            </span>
                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> iPTMnet is a bioinformatics resource for integrated understanding of protein
                                    post-translational
                                    modifications (PTMs) in systems biology context.

                                    It connects multiple disparate bioinformatics tools and systems text mining,
                                    data mining, analysis and visualization tools, and databases and ontologies
                                    into an integrated cross-cutting research resource to address the knowledge gaps
                                    in exploring and discovering PTM networks.
                                </p>
                            </div>

                            <div ng-show="ctrl.phosphoError" style="color: red">
                                <p>
                                    Error in obtaining the iPTMnet network, please try again later!
                                </p>
                            </div>
                            <div ng-show="ctrl.showPhosphoGeneNetworkProcessed">
                                <button class="btn btn-primary "
                                        ng-click="makePtmGraph(ctrl.ptmNetwork, ctrl.ptmProteinToAbundanceMap)">Show
                                    Network of Targeted PTM/Proteins via iPTMnet
                                </button>
                                <button class="btn btn-primary "
                                        ng-click="hidePtmGraph()">Hide
                                </button>
                            </div>

                        </div>

                        <div ng-show="ctrl.showPtmGraph">


                            <div ng-show="ctrl.showPhosphoGeneNetworkProcessed">
                                <div class="well">
                                    <h4>Mapping of iPTMnet for Targeted PTM/Proteins

                                        <span ng-show="!ctrl.showPhosphoGeneNetworkProcessed && !ctrl.phosphoError">
                                    <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                                    </span>
                                    </h4>
                                    <div class="bs-callout bs-callout-primary">
                                        <p>This table shows the enzymes that targets the PTM/Protein.
                                        </p>
                                    </div>


                                    <!--</div>-->

                                    <!--<div ng-show="ctrl.phosphoError">-->
                                    <!--<p>-->
                                    <!--Error in obtaining the kinases to targeted Phosphosite network, please try again-->
                                    <!--later!-->
                                    <!--</p>-->
                                    <!--</div>-->

                                    <!--<div ng-show="ctrl.showPhosphoGeneNetworkProcessed">-->

                                    <!--<div class="well" ng-show="true">-->

                                    <table class="table table-striped table-bordered">
                                        <thead>
                                        <tr>
                                            <th>PTM/Protein</th>
                                            <!--<th>validity</th>-->
                                            <th>PTM</th>
                                            <th>Amino Acid</th>
                                            <th>Site</th>
                                            <th>Type</th>
                                            <th>Enzyme</th>
                                            <th>Score</th>
                                        </tr>
                                        </thead>
                                        <tbody dir-paginate="gene in ctrl.PTM_table | filter:search | orderBy:'-blosum50ScorePercent' | itemsPerPage:10 "
                                               pagination-id="metaData22">
                                        <!--<tbody pagination-id="metaData22">-->
                                        <!--<tr >-->
                                        <!--<tr ng-repeat="gene in ctrl.blosum50Table |filter:search | itemsPerPage:10 "  ng-if="gene.symbol != ''" >-->
                                        <!--<tr ng-repeat="gene in ctrl.inputGeneInfo |filter:search | itemsPerPage:10:'genesPagination'" current-page="currentPage" pagination-id="genesPagination" ng-if="gene.symbol != ''">-->
                                        <td>{{gene.PTMProtein}}</td>
                                        <!--<td>{{gene.valid}}</td>-->
                                        <td>{{gene.PTM}}</td>
                                        <td>{{gene.amino}}</td>
                                        <td>{{gene.site}}</td>
                                        <td>{{gene.type}}</td>
                                        <td>{{gene.enzyme}}</td>
                                        <td>{{gene.score}}</td>



                                        <!--</tr>-->
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls
                                            pagination-id="metaData22"
                                            max-size="10"
                                            direction-links="true"
                                            boundary-links="true">
                                    </dir-pagination-controls>
                                    <!--<dir-pagination-controls-->
                                    <!--max-size="10"-->
                                    <!--direction-links="true"-->
                                    <!--boundary-links="true" >-->
                                    <!--</dir-pagination-controls>-->
                                </div>
                                <br/>
                                <!--</div>-->
                            </div>


                            <div ng-show="ctrl.showPhosphoGeneNetworkProcessed">

                                <!--<select-->
                                <!--ng-model="selectedphosphoPathways"-->
                                <!--ng-change="changedPhosphoValue(selectedphosphoPathways)"-->
                                <!--ng-options="x.value for x in phosphoOptions">-->
                                <!--</select>-->
                                <!--<hr/>-->
                                <!--<button>-->
                                <!--<a id="download3" href="#">Download SVG-->
                                <!--</a>-->
                                <!--</button>-->
                                <br/>

                                <div id="chart4">

                                    <div>
                                        <button class="btn1" id='force4' title='Implement force layout'>
                                            <i class='fa fa-random'></i>
                                        </button>
                                        <button class="btn2" id='circularView4' title='Implement circular layout'>
                                            <i class='fa fa-circle-o'></i>
                                        </button>
                                        <button class="btn3" id='parallelView4' title='Rearrange nodes in columns'>
                                            <i class='fa fa-align-justify'></i>
                                        </button>
                                        <!--<button class="btn4" id='customizedParallelView1' title='Implement parallel layout'>-->
                                        <!--<i class='fa fa-map-o'></i>-->
                                        <!--</button>-->
                                        <!--<button class="btn5" id='customizedCircularView1' title='Implement customized circular layout'>-->
                                        <!--<i class='fa fa-dot-circle-o'></i>-->
                                        <!--</button>-->
                                        <button class="btn6" id='download-png4' title='download as PNG'>
                                            <i class='fa fa-download'></i>
                                        </button>
                                        <button class="btn7" id='question4'
                                                title='Grey or colored nodes based on abundance: query gene set, red nodes: phosphorylation enzymes, green: acetylation enzymes, cyan: methylation enzymes'>
                                            <i class='fa fa-question-circle'></i>
                                        </button>
                                        <!--<button class="btn8" id='drug1'-->
                                        <!--title='grey nodes: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>-->
                                        <!--<i class='fa fa-eyedropper'></i>-->
                                        <!--</button>-->


                                    </div>

                                </div>

                            </div>
                            <!--<div id="chart3"></div>-->
                        </div>
                    </div>

                    <hr/>

                    <!--phosphositeplus table-->


                    <!--phosphositeplus network-->
                    <div ng-show="ctrl.showPhosphoGeneNetwork">
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Network of Kinases to Targeted Phosphosite


                                <span ng-show="!ctrl.showPhosphoGeneNetworkProcessed && !ctrl.phosphoError">
                                    <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                            </span>
                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> Kinase network of phosphorylated genes reflects the connection between kinases
                                    and gene products
                                    phosphorylated
                                    at specific sites. Solid lines mean known relations between the kinases and
                                    target genes (in
                                    Known_Kinase_TargetGene) or
                                    exact matching between the kinase target and the peptide sequence in
                                    (Known+Predicted_Blosum50_Kinase_TargetGene and
                                    Known+Predicted_Probability_Kinase_TargetGene). Dashed lines show probable
                                    inkage between kinase
                                    and target genes based on blosum50 similarity scores or phosphosite plus
                                    connectivity networks.
                                </p>
                            </div>

                            <div ng-show="ctrl.phosphoError" style="color: red">
                                <p>
                                    Error in obtaining the Kinase-Gene network network, please try again later!
                                </p>
                            </div>
                            <div ng-show="ctrl.showPhosphoGeneNetworkProcessed">
                                <button class="btn btn-primary "
                                        ng-click="makePhosphoGraph(ctrl.phosphoNetwork, ctrl.ptmProteinToAbundanceMap )">
                                    Show Kinase Network for
                                    Phosphorylated Genes
                                </button>
                                <button class="btn btn-primary "
                                        ng-click="hidePhosphoGraph()">Hide
                                </button>
                            </div>

                        </div>

                        <div ng-show="ctrl.showPhosphoGraph">


                            <div ng-show="ctrl.showPhosphoGeneNetwork">
                                <div class="well">
                                    <h4>Mapping Kinases to Targeted Phosphosite

                                        <span ng-show="!ctrl.showPhosphoGeneNetworkProcessed">
                                    <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                                    </span>
                                    </h4>
                                    <div class="bs-callout bs-callout-primary">
                                        <p>This table shows the known and predicted kinases targeting the input PTM
                                            proteins. The kinases shown here
                                            are based on the known kinases in the phosphositePlus and predicted kinases
                                            based on the blosum50 similarity score
                                            of the phosphosite sequence and known kinase target sequences.
                                        </p>
                                    </div>


                                    <!--</div>-->

                                    <div ng-show="ctrl.phosphoError" style="color: red">
                                        <p>
                                            Error in obtaining the kinases to targeted Phosphosite network, please try again
                                            later!
                                        </p>
                                    </div>

                                    <!--<div ng-show="ctrl.showPhosphoGeneNetworkProcessed">-->

                                    <!--<div class="well" ng-show="true">-->

                                    <table class="table table-striped table-bordered">
                                        <thead>
                                        <tr>
                                            <th>PTM/Protein</th>
                                            <!--<th>PTM</th>-->
                                            <th>Amino Acid</th>
                                            <th>Sequence</th>
                                            <th>Kinase</th>
                                            <th>Kinase Organism</th>

                                            <th>Kinase Target Sequence</th>
                                            <!--<th>Type</th>-->
                                            <th>Blosum50 Score</th>
                                            <!--<th>max blosum50</th>-->
                                        </tr>
                                        </thead>
                                        <tbody dir-paginate="gene in ctrl.blosum50Table | filter:search | orderBy:'-blosum50ScorePercent' | itemsPerPage:10 "
                                               pagination-id="metaData22">
                                        <!--<tbody pagination-id="metaData22">-->
                                        <!--<tr >-->
                                        <!--<tr ng-repeat="gene in ctrl.blosum50Table |filter:search | itemsPerPage:10 "  ng-if="gene.symbol != ''" >-->
                                        <!--<tr ng-repeat="gene in ctrl.inputGeneInfo |filter:search | itemsPerPage:10:'genesPagination'" current-page="currentPage" pagination-id="genesPagination" ng-if="gene.symbol != ''">-->
                                        <td>{{gene.phosphoGene}}</td>
                                        <!--<td>{{gene.ptm}}</td>-->
                                        <td>{{gene.amino}}</td>
                                        <td>
                                            <!--<div class="list-responsive-vertical" style="word-wrap:break-word;">-->
                                            {{gene.geneSequence.slice(0,7)}}<span style='color:red'>{{gene.geneSequence.slice(7,8)}}</span>{{gene.geneSequence.slice(8,gene.geneSequence.length)}}
                                            <!--</div>-->

                                            <!--{{gene.geneSequence}}-->
                                        </td>
                                        <td>{{gene.kinase}}</td>
                                        <td>{{gene.kinaseOrganism}}</td>

                                        <td>
                                            {{gene.kinasePeptide.slice(0,7)}}<span style='color:red'>{{gene.kinasePeptide.slice(7,8)}}</span>{{gene.kinasePeptide.slice(8,gene.kinasePeptide.length)}}
                                            <!--{{gene.kinasePeptide}}-->
                                        </td>
                                        <!--<td>{{gene.valid}}</td>-->
                                        <td>{{gene.blosum50ScorePercent}}/{{gene.blosum50MaxScore}}</td>
                                        <!--<td>{{gene.blosum50MaxScore}}</td>-->

                                        <!--</tr>-->
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls
                                            pagination-id="metaData22"
                                            max-size="10"
                                            direction-links="true"
                                            boundary-links="true">
                                    </dir-pagination-controls>
                                    <!--<dir-pagination-controls-->
                                    <!--max-size="10"-->
                                    <!--direction-links="true"-->
                                    <!--boundary-links="true" >-->
                                    <!--</dir-pagination-controls>-->
                                </div>
                                <br/>
                                <!--</div>-->
                            </div>


                            <div ng-show="ctrl.showPhosphoGeneNetworkProcessed">

                                <select
                                        ng-model="selectedphosphoPathways"
                                        ng-change="changedPhosphoValue(selectedphosphoPathways)"
                                        ng-options="x.value for x in phosphoOptions">
                                </select>
                                <hr/>
                                <!--<button>-->
                                <!--<a id="download3" href="#">Download SVG-->
                                <!--</a>-->
                                <!--</button>-->
                                <br/>

                                <div id="chart3">

                                    <div>
                                        <button class="btn1" id='force3' title='Implement force layout'>
                                            <i class='fa fa-random'></i>
                                        </button>
                                        <button class="btn2" id='circularView3' title='Implement circular layout'>
                                            <i class='fa fa-circle-o'></i>
                                        </button>
                                        <button class="btn3" id='parallelView3' title='Rearrange nodes in columns'>
                                            <i class='fa fa-align-justify'></i>
                                        </button>
                                        <!--<button class="btn4" id='customizedParallelView1' title='Implement parallel layout'>-->
                                        <!--<i class='fa fa-map-o'></i>-->
                                        <!--</button>-->
                                        <!--<button class="btn5" id='customizedCircularView1' title='Implement customized circular layout'>-->
                                        <!--<i class='fa fa-dot-circle-o'></i>-->
                                        <!--</button>-->
                                        <button class="btn6" id='download-png3' title='download as PNG'>
                                            <i class='fa fa-download'></i>
                                        </button>
                                        <button class="btn7" id='question3'
                                                title='grey or colored nodes based on abundance: Query Gene Set, Red nodes: Kinases Perturbation'>
                                            <i class='fa fa-question-circle'></i>
                                        </button>
                                        <!--<button class="btn8" id='drug1'-->
                                        <!--title='grey nodes: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>-->
                                        <!--<i class='fa fa-eyedropper'></i>-->
                                        <!--</button>-->


                                    </div>

                                </div>

                            </div>
                            <!--<div id="chart3"></div>-->
                        </div>
                    </div>


                </div>


            </div>


            <!--<hr/>-->
            <!--</div>-->
        </section>


        <section id="genes" class="tab-panel">
            <!--<h4>Network Analysis of Genes</h4>-->

            <div class="container" style="box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    border-radius: 5px;">
                <div class="well col-sm-12" style="border-color: black ">
                    Enter genes or for example try the list of
                    <a href="javascript:void(0);" class="onerow2" ng-click="ctrl.changeToP100Genes('table')"
                       ng-style="{'font-weight': 'bold'}">
                        LINCS P100 associated genes&nbsp;
                    </a>
                    . Gene names can be separated by comma, semi-colon or new line.
                </div>
                <!--<hr/>-->
            </div>


            <div class="container" style="padding-top: 10px;">

                <div class="well col-sm-12">

                    <!--<a style="text-decoration: none;">-->
                    <!--<a class= "collapse in" class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne" style="text-decoration: none; ">-->

                    <!--<span style="color:steelblue;" class="glyphicon glyphicon-cog"></span> &nbsp;-->
                    <!--Enter Gene/Phosphogenes or for example try the list of-->
                    <!--<button class="btn btn-primary " ng-click="ctrl.changeToP100('table')">-->
                    <!--LINCS P100 data set&nbsp;-->
                    <!--</button>-->
                    <!--. Gene names should be sparated by comma, semi-colon or new line.-->
                    <!--<hr/>-->

                    <div class=" form-group col-sm-4" style="padding-left: 0px;">
                        <div class="horizontal-scroll" style=padding-bottom:10px;">
                            <!--<div class="horizontal-scroll" style="padding-top:8px; padding-bottom:10px;" >-->
                            <span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span>
                            <label style="padding-bottom: 24px;">Enter genes&nbsp;
                                <br/>
                            </label>


                            <!--<span style="float:left">-->
                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span> &nbsp;Enter genes/PTM genes-->
                            <!--</span>-->
                            <div>

                                <textarea class="form-control" rows="5" ng-model="ctrl.genes"></textarea>
                                <!--console.log()-->
                            </div>

                        </div>


                        Delimiter: &nbsp;
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox1" value="option2" checked="true"
                                   disabled="true"> comma
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox2" value="option1" checked="true"
                                   disabled="true">
                            semi-colon
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" id="inlineCheckbox3" value="option3" checked="true"
                                   disabled="true"> new line
                        </label>
                        <!--<a class="nav navbar-nav" style="padding-bottom: 12px;" href="/pln/modification.html" target="_blank">Input Format Description</a>-->
                        <div style="float:left;">
                <span>
                    <hr/>
                    <p>
                    &nbsp;<span style='color:blue'>{{ctrl.numberOfAllValidGenes}}</span> out of {{ctrl.numberOfAllInputGenes}} input genes are common with Homo Sapiens.
                    </p>

                    <span ng-show="ctrl.flagFoundNPCG" style="padding-left: 0px;" class="onerow">
                        non conforming genes with Homo Sapiens genes: <span style='color:red'>
                        <span ng-repeat="nonValid in ctrl.nonValidGenes" class="onerow">{{nonValid}},&nbsp;</span>
                        <!--{{ctrl.numberOfAllValidGenes}}-->
                    </span>
                        <!--<a href="#" title="{{ctrl.nonValidGenes}}">Mouse over to see the non conforming genes with Homo Sapiens genes</a>-->

                    </span>


                    <!--<span ng-if="ctrl.flagFoundNPCG">-->
                    <!--&nbsp;Not valid genes are:-->
                    <!--<span style='color:blue'>-->
                    <!--<div ng-repeat="nonValid in ctrl.nonValidGenes">{{nonValid}}&nbsp</div>-->
                    <!--</span>-->
                    <!--Gene name identification is case sensitive, Try other names of these genes or copy and paste the gene names again!-->
                    <!--</span>-->

                </span>
                        </div>
                    </div>


                    <!--<div class=" form-group col-sm-4" style="padding-left: 0px;">-->
                    <!--<div class="horizontal-scroll" style=padding-bottom:10px;">-->
                    <!--&lt;!&ndash;<div class="horizontal-scroll" style="padding-top:8px; padding-bottom:10px;" >&ndash;&gt;-->
                    <!--<span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span>-->
                    <!--<label style="padding-bottom: 24px;">Enter PTM Proteins&nbsp;-->
                    <!--<br/>-->
                    <!--</label>-->


                    <!--&lt;!&ndash;<span style="float:left">&ndash;&gt;-->
                    <!--&lt;!&ndash;<span style="color:steelblue;" class="glyphicon glyphicon-cog">  </span> &nbsp;Enter genes/PTM genes&ndash;&gt;-->
                    <!--&lt;!&ndash;</span>&ndash;&gt;-->
                    <!--<div>-->

                    <!--<textarea class="form-control" rows="5" ng-model="ctrl.inputMassPtmProteins"></textarea>-->
                    <!--&lt;!&ndash;console.log()&ndash;&gt;-->
                    <!--</div>-->

                    <!--</div>-->


                    <!--Delimiter: &nbsp;-->
                    <!--<label class="checkbox-inline">-->
                    <!--<input type="checkbox" id="inlineCheckbox4" value="option2" checked="true" disabled="true"> comma-->
                    <!--</label>-->
                    <!--<label class="checkbox-inline">-->
                    <!--<input type="checkbox" id="inlineCheckbox5" value="option1" checked="true" disabled="true">-->
                    <!--semi-colon-->
                    <!--</label>-->
                    <!--<label class="checkbox-inline">-->
                    <!--<input type="checkbox" id="inlineCheckbox6" value="option3" checked="true" disabled="true"> new line-->
                    <!--</label>-->
                    <!--&lt;!&ndash;<a class="nav navbar-nav" style="padding-bottom: 12px;" href="/pln/modification.html" target="_blank">Input Format Description</a>&ndash;&gt;-->
                    <!--<div style="float:left;">-->
                    <!--&lt;!&ndash;<span>&ndash;&gt;-->
                    <!--&lt;!&ndash;<hr/>&ndash;&gt;-->
                    <!--&lt;!&ndash;<p>&ndash;&gt;-->
                    <!--&lt;!&ndash;&nbsp;<span style='color:blue'>{{ctrl.numberOfAllValidGenes}}</span> out of {{ctrl.numberOfAllInputGenes}} input genes are common with Homo Sapiens.&ndash;&gt;-->
                    <!--&lt;!&ndash;</p>&ndash;&gt;-->

                    <!--&lt;!&ndash;<span ng-show="ctrl.flagFoundNPCG" >&ndash;&gt;-->
                    <!--&lt;!&ndash;<a href="#" title="{{ctrl.nonValidGenes}}">Mouse over to see the non conforming genes with Homo Sapiens genes</a>&ndash;&gt;-->

                    <!--&lt;!&ndash;</span>&ndash;&gt;-->


                    <!--&lt;!&ndash;<span ng-if="ctrl.flagFoundNPCG">&ndash;&gt;-->
                    <!--&lt;!&ndash;&nbsp;Not valid genes are:&ndash;&gt;-->
                    <!--&lt;!&ndash;<span style='color:blue'>&ndash;&gt;-->
                    <!--&lt;!&ndash;<div ng-repeat="nonValid in ctrl.nonValidGenes">{{nonValid}}&nbsp</div>&ndash;&gt;-->
                    <!--&lt;!&ndash;</span>&ndash;&gt;-->
                    <!--&lt;!&ndash;Gene name identification is case sensitive, Try other names of these genes or copy and paste the gene names again!&ndash;&gt;-->
                    <!--&lt;!&ndash;</span>&ndash;&gt;-->

                    <!--&lt;!&ndash;</span>&ndash;&gt;-->
                    <!--</div>-->
                    <!--</div>-->

                    <div class=" form-group col-sm-2 col-sm-offset-0">
                        <label style="padding-bottom: 14px;">Genes&nbsp;
                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-question-sign"-->
                            <!--data-delay='{"show":"0", "hide":"100"}'-->
                            <!--data-toggle="tooltip"-->
                            <!--title="Parsed motifs are used to query ProSite API. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[^A-Z]/g">-->

                            <!--</span>-->


                            <!--<br/>-->
                        </label>
                        <div class=" list-responsive-vertical2" style="word-wrap:break-word;" id="div9">
                            <!--<div ng-repeat="gene in ctrl.parsedGenes track by $index">{{gene}}<br/></div>-->
                            <span ng-repeat="item in ctrl.inputGeneInfo track by $index">{{item.symbol}}<br/></span>
                        </div>
                    </div>

                    <div class=" form-group col-sm-4 col-sm-offset-0">
                        <label style="padding-bottom: 24px;">Gene Names&nbsp;

                            <!--<span style="color:steelblue;" class="glyphicon glyphicon-question-sign"-->
                            <!--data-delay='{"show":"0", "hide":"100"}'-->
                            <!--data-toggle="tooltip"-->
                            <!--title="Parsed modifications are used to query PSIsty-MOD ontology. They are obtained from entered peptides by parsing them with JavaScript regular expression: /[A-Z]\[\+[\d\.]+]/g">-->

                            <!--</span>-->
                            <!--<br/>-->
                        </label>
                        <div class="list-responsive-vertical3" style="word-wrap:break-word;" id="div10">
                            <span ng-repeat="item in ctrl.inputGeneInfo track by $index">{{item.name | limitTo:30}}<br/></span>
                        </div>

                    </div>

                    <div class=" form-group col-sm-2 col-sm-offset-0">
                        <label style="padding-bottom: 10px;">Abundance&nbsp;
                            <span style="color:steelblue;" class="glyphicon glyphicon-question-sign"
                                  data-delay='{"show":"0", "hide":"100"}'
                                  data-toggle="tooltip"
                                  title="This is normalized abundance of genes, if not inserted, it is assumed to be 'NA'.">
                        </span>
                            <br/>
                        </label>
                        <div class="list-responsive-vertical2" style="word-wrap:break-word;" id="div10-1">
                            <div ng-repeat="abundance in ctrl.geneAbundance track by $index">
                                {{abundance| limitTo:6}}
                                <br/>
                            </div>
                        </div>

                    </div>

                    <button style="float:right" class="btn btn-primary col-sm-offset-10"
                            ng-click="ctrl.onSubmitPathway('table')"
                            ng-show="ctrl.showGeneSubmit && ctrl.showPtmSubmit">
                        Submit &nbsp;
                        <span ng-show="ctrl.pathwayWaiting">
                                 <span class="glyphicon glyphicon-refresh glyphicon-spin">

                                        </span>
                            <!--<span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>-->
                        </span>
                    </button>


                </div>


                <div class="container" ng-show="ctrl.showOutputPathway ">

                    <form class="form-inline">
                        <div class="form-group">
                            <label>Search</label>
                            <input type="text" ng-model="search" class="form-control" placeholder="Search">
                        </div>
                    </form>

                    <hr/>

                    <div ng-show="ctrl.showGeneNetwork">



                        <div class="well" ng-show="true">
                            <div class="well well-sm" style="background-color: #c9c9c9">
                                <h4>Input Gene Info</h4>
                            </div>
                            <!--<div ng-controller="myCtrl">-->
                            <button class="btn btn-primary " ng-click="exportDataGeneInfo()">Download Table</button>
                            <!--</div>-->
                            <table class="table table-striped table-bordered">
                                <thead>
                                <tr>
                                    <th>Gene Symbol</th>
                                    <th>Gene Name</th>
                                    <th>HGNC ID</th>
                                    <th>Gene Family</th>
                                    <th>Previous Symbols</th>
                                    <th>Uniprot IDs</th>
                                    <!--<th>Locus Group</th>-->
                                </tr>
                                </thead>
                                <tbody dir-paginate="gene in ctrl.inputGeneInfo | filter:search  | itemsPerPage:10 "
                                       ng-if="gene.symbol != ''" pagination-id="metaData21">
                                <!--<tbody pagination-id="metaData21">-->
                                <!--<tr >-->
                                <!--<tr ng-repeat="gene in ctrl.inputGeneInfo |filter:search | itemsPerPage:10 "  ng-if="gene.symbol != ''" >-->
                                <!--<tr ng-repeat="gene in ctrl.inputGeneInfo |filter:search | itemsPerPage:10:'genesPagination'" current-page="currentPage" pagination-id="genesPagination" ng-if="gene.symbol != ''">-->
                                <td>
                                    <a ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{gene.symbol}}"
                                       target="_blank">{{gene.symbol}}</a>
                                </td>
                                <!--New version of http://www.ebi.ac.uk/ols/ontologies/mod/terms?obo_id={{mapping.identifier}}-->
                                <!--Old version of http://www.ebi.ac.uk/ontology-lookup/?termId={{mapping.identifier}}-->
                                <td>{{gene.name}}</td>
                                <td>{{gene.hgnc_id}}</td>
                                <td>{{gene.gene_family_name}}</td>
                                <!--<td>-->
                                <!--<span ng-repeat="family in gene.gene_family_name track by $index">-->
                                <!--{{family}}<br/>-->
                                <!--</span>-->
                                <!--</td>-->
                                <td>
                                    <span ng-repeat="symbol in gene.prev_symbol track by $index">
                                    <a ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{symbol}}"
                                       target="_blank">{{symbol}}</a><br/>
                                </span>
                                <td>
                                    <span ng-repeat="uniprot in gene.uniprot_ids track by $index">
                                        <a ng-href="http://www.uniprot.org/uniprot/{{uniprot}}"
                                           target="_blank">{{uniprot}}</a><br/>
                                </span>
                                </td>
                                <!--<td>{{gene.locus_group}}</td>-->
                                <!--</tr>-->
                                </tbody>
                            </table>
                            <dir-pagination-controls
                                    pagination-id="metaData21"
                                    max-size="10"
                                    direction-links="true"
                                    boundary-links="true">
                            </dir-pagination-controls>
                            <!--<dir-pagination-controls-->
                            <!--max-size="10"-->
                            <!--direction-links="true"-->
                            <!--boundary-links="true" >-->
                            <!--</dir-pagination-controls>-->
                        </div>
                        <br/>

                    </div>

                    <div ng-show="ctrl.showGeneNetwork">

                        <!--<div class="well">-->
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Analyzing gene signature via iLINCS



                                <span ng-show="!showGeneNetworkProcessed && !genePathwayError">
                                    <!--<p> Calculating the gene-pathway association.-->
                                    <!--</p>-->
                                <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                            </span>

                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> Pathway view network shows network of pathways or perturbations that target the
                                    input genes.
                                </p>
                            </div>


                            <div ng-show="genePathwayError">
                                <p style="color: red"> Gene-Pathway analysis error, Please try again.
                                </p>


                            </div>
                        </div>
                    </div>

                    <div ng-show="ctrl.showGeneNetwork">

                        <!--<div class="well">-->
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Gene-Pathway Association View



                                <span ng-show="!showGeneNetworkProcessed && !genePathwayError">
                                    <!--<p> Calculating the gene-pathway association.-->
                                    <!--</p>-->
                                <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                            </span>

                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> Pathway view network shows network of pathways or perturbations that target the
                                    input genes.
                                </p>
                            </div>


                            <div ng-show="genePathwayError">
                                <p style="color: red"> Gene-Pathway analysis error, Please try again.
                                </p>


                                <!--<button class="btn btn-primary "-->
                                <!--ng-click="tryEnrichmentGraph()">Try Again-->
                                <!--</button>-->
                            </div>

                            <div ng-show="showGeneNetworkProcessed">

                                <button class="btn btn-primary "
                                        ng-click="makePathwayGraph(ctrl.network, ctrl.geneToAbundanceMap)">Show
                                    Gene-Pathway Association View
                                </button>
                                <button class="btn btn-primary "
                                        ng-click="hidePathwayGraph()">Hide
                                </button>
                            </div>
                        </div>


                        <div ng-show="ctrl.showPathwayGraph">


                            <div class="content">


                                <div class="tabs2">

                                    <input type="radio" id="tab11" name="tab-control2" checked>
                                    <input type="radio" id="tab21" name="tab-control2">
                                    <input type="radio" id="tab31" name="tab-control2">
                                    <input type="radio" id="tab41" name="tab-control2">
                                    <input type="radio" id="tab51" name="tab-control2">
                                    <ul>
                                        <li title="Pathway"><label for="tab11"
                                                                   role="button"><br><span>Pathway</span></label></li>

                                        <li title="Disease/Drug"><label for="tab21"
                                                                        role="button"><br><span>Disease/Drug</span></label>
                                        </li>
                                        <li title="Ontology"><label for="tab31"
                                                                    role="button"><br><span>Ontology</span></label></li>

                                        <li title="Transcription"><label for="tab41" role="button"><br><span>Transcription</span></label>
                                        </li>
                                        <li title="Cell Type"><label for="tab51"
                                                                     role="button"><br><span>Cell Type</span></label>
                                        </li>
                                    </ul>

                                    <div class="slider">
                                        <div class="indicator"></div>
                                    </div>
                                    <div class="content">
                                        <section>
                                            <h2>Pathways</h2>
                                            <select
                                                    ng-model="selectedPathways"
                                                    ng-change="changedValue(selectedPathways)"
                                                    ng-options="x.value for x in pathways">
                                            </select>
                                        </section>
                                        <section>
                                            <h2>Disease/Drugs</h2>
                                            <select
                                                    ng-model="selectedDiseaseDrugs"
                                                    ng-change="changedValue(selectedDiseaseDrugs)"
                                                    ng-options="x.value for x in diseaseDrugs">
                                            </select>
                                        </section>
                                        <section>
                                            <h2>Ontology</h2>
                                            <select
                                                    ng-model="selectedOntology"
                                                    ng-change="changedValue(selectedOntology)"
                                                    ng-options="x.value for x in ontology">
                                            </select>
                                        </section>
                                        <section>
                                            <h2>Transcription</h2>
                                            <select
                                                    ng-model="selectedTranscription"
                                                    ng-change="changedValue(selectedTranscription)"
                                                    ng-options="x.value for x in transcription">
                                            </select>
                                        </section>
                                        <section>
                                            <h2>Cell Type</h2>
                                            <select
                                                    ng-model="selectedCellType"
                                                    ng-change="changedValue(selectedCellType)"
                                                    ng-options="x.value for x in cellType">
                                            </select>
                                        </section>
                                    </div>
                                </div>


                                <!--<h2>Pathways</h2>-->
                                <!--<select-->
                                <!--ng-model="selectedPathways"-->
                                <!--ng-change="changedValue(selectedPathways)"-->
                                <!--ng-options="x.value for x in pathways">-->
                                <!--</select>-->
                            </div>

                            <!--<div class="content">-->

                            <!--<h2>Pathways</h2>-->
                            <!--<select-->
                            <!--ng-model="selectedPathways"-->
                            <!--ng-change="changedValue(selectedPathways)"-->
                            <!--ng-options="x.value for x in pathways">-->
                            <!--</select>-->
                            <!--</div>-->

                            <!--<canvas id="canvas" height="1300" width="1300"/>-->
                            <!--<br/>-->

                            <!--<canvas id="canvas" height="1300" width="1300">-->
                            <h4>{{pathwayItem}}</h4>
                            <div id="chart">

                                <div>
                                    <button class="btn1" id='force1' title='Implement force layout'>
                                        <i class='fa fa-random'></i>
                                    </button>
                                    <button class="btn2" id='circularView1' title='Implement circular layout'>
                                        <i class='fa fa-circle-o'></i>
                                    </button>
                                    <button class="btn3" id='parallelView1' title='Rearrange nodes in columns'>
                                        <i class='fa fa-align-justify'></i>
                                    </button>
                                    <!--<button class="btn4" id='customizedParallelView1' title='Implement parallel layout'>-->
                                    <!--<i class='fa fa-map-o'></i>-->
                                    <!--</button>-->
                                    <!--<button class="btn5" id='customizedCircularView1' title='Implement customized circular layout'>-->
                                    <!--<i class='fa fa-dot-circle-o'></i>-->
                                    <!--</button>-->
                                    <button class="btn6" id='download-png1' title='download as PNG'>
                                        <i class='fa fa-download'></i>
                                    </button>
                                    <button class="btn7" id='question1'
                                            title='Grey or colored nodes based on abundance: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>
                                        <i class='fa fa-question-circle'></i>
                                    </button>
                                    <!--<button class="btn8" id='drug1'-->
                                    <!--title='grey nodes: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>-->
                                    <!--<i class='fa fa-eyedropper'></i>-->
                                    <!--</button>-->


                                </div>


                            </div>


                        </div>
                    </div>

                    <div ng-show="ctrl.showGeneNetwork">
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Enrichment Analysis of Genes

                                <span ng-show="!showGeneEnrichmentProcessed && !enrichmentError">
                                    <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                                </span>

                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> Enrichment view identifies pathways or proteins that are over-represented in a
                                    large set of genes or proteins,
                                    and may have an association with disease phenotypes.
                                </p>
                            </div>

                            <div ng-show="enrichmentError">
                                <p style="color: red"> Enrichment analysis error, Please try again.
                                </p>


                                <!--<button class="btn btn-primary "-->
                                <!--ng-click="tryEnrichmentGraph()">Try Again-->
                                <!--</button>-->
                            </div>

                            <div ng-show="showGeneEnrichmentProcessed">

                                <button class="btn btn-primary "
                                        ng-click="makeEnrichmentGraph(ctrl.enrichmentNetwork, ctrl.geneToAbundanceMap)">
                                    Show Enrichment View
                                </button>
                                <button class="btn btn-primary "
                                        ng-click="hideEnrichmentGraph()">Hide
                                </button>
                            </div>
                        </div>


                        <div ng-show="ctrl.showEnrichmentGraph">

                            <div class="content">


                                <div class="tabs">

                                    <input type="radio" id="tab1" name="tab-control" checked>
                                    <input type="radio" id="tab2" name="tab-control">
                                    <input type="radio" id="tab3" name="tab-control">
                                    <input type="radio" id="tab4" name="tab-control">
                                    <input type="radio" id="tab5" name="tab-control">
                                    <ul>
                                        <li title="Pathway"><label for="tab1"
                                                                   role="button"><br><span>Pathway</span></label></li>
                                        <li title="Disease/Drug"><label for="tab2"
                                                                        role="button"><br><span>Disease/Drug</span></label>
                                        </li>
                                        <li title="Ontology"><label for="tab3"
                                                                    role="button"><br><span>Ontology</span></label></li>

                                        <li title="Transcription"><label for="tab4" role="button"><br><span>Transcription</span></label>
                                        </li>
                                        <li title="Cell Type"><label for="tab5" role="button"><br><span>Cell Type</span></label>
                                        </li>
                                    </ul>

                                    <div class="slider">
                                        <div class="indicator"></div>
                                    </div>
                                    <div class="content">
                                        <section>
                                            <h2>Pathways</h2>
                                            <select
                                                    ng-model="selectedEnrichmentPathways"
                                                    ng-change="changedValue(selectedEnrichmentPathways)"
                                                    ng-options="x.value for x in enrichmentPathways">
                                            </select>
                                            <span ng-show="!ctrl.showGeneEnrichmentChangeProcessed">
                                                <span class="fa fa-spinner fa-pulse fa-1.5x fa-fw"></span>
                                            </span>
                                        </section>
                                        <section>
                                            <h2>Disease/Drugs</h2>
                                            <select
                                                    ng-model="selectedEnrichmentDiseaseDrugs"
                                                    ng-change="changedValue(selectedEnrichmentDiseaseDrugs)"
                                                    ng-options="x.value for x in enrichmentDiseaseDrugs">
                                            </select>
                                            <span ng-show="!ctrl.showGeneEnrichmentChangeProcessed">
                                                <span class="fa fa-spinner fa-pulse fa-1.5x fa-fw"></span>
                                            </span>
                                        </section>
                                        <section>
                                            <h2>Ontology</h2>
                                            <select
                                                    ng-model="selectedEnrichmentOntology"
                                                    ng-change="changedValue(selectedEnrichmentOntology)"
                                                    ng-options="x.value for x in enrichmentOntology">
                                            </select>
                                            <span ng-show="!ctrl.showGeneEnrichmentChangeProcessed">
                                                <span class="fa fa-spinner fa-pulse fa-1.5x fa-fw"></span>
                                            </span>
                                        </section>
                                        <section>
                                            <h2>Transcription</h2>
                                            <select
                                                    ng-model="selectedEnrichmentTranscription"
                                                    ng-change="changedValue(selectedEnrichmentTranscription)"
                                                    ng-options="x.value for x in enrichmentTranscription">
                                            </select>
                                            <span ng-show="!ctrl.showGeneEnrichmentChangeProcessed">
                                                <span class="fa fa-spinner fa-pulse fa-1.5x fa-fw"></span>
                                            </span>
                                        </section>
                                        <section>
                                            <h2>Cell Type</h2>
                                            <select
                                                    ng-model="selectedEnrichmentCellType"
                                                    ng-change="changedValue(selectedEnrichmentCellType)"
                                                    ng-options="x.value for x in enrichmentCellType">
                                            </select>
                                            <span ng-show="!ctrl.showGeneEnrichmentChangeProcessed">
                                                <span class="fa fa-spinner fa-pulse fa-1.5x fa-fw"></span>
                                            </span>
                                        </section>
                                    </div>
                                </div>


                                <!--<h2>Pathways</h2>-->
                                <!--<select-->
                                <!--ng-model="selectedPathways"-->
                                <!--ng-change="changedValue(selectedPathways)"-->
                                <!--ng-options="x.value for x in pathways">-->
                                <!--</select>-->
                            </div>
                            <h4>{{enrichmentItem}}</h4>
                            <div class="well">

                                <table class="table table-striped table-bordered">
                                    <thead>
                                    <tr>
                                        <th>Pathway</th>
                                        <!--<th>validity</th>-->
                                        <th>P Value</th>
                                        <th>Gene List</th>

                                        <!--<th>max blosum50</th>-->
                                    </tr>
                                    </thead>
                                    <tbody dir-paginate="item in enrichmentTable | filter:search | orderBy:'pValue' | itemsPerPage:10 "
                                           pagination-id="metaData44">
                                    <!--<tbody pagination-id="metaData22">-->
                                    <!--<tr >-->
                                    <!--<tr ng-repeat="gene in ctrl.blosum50Table |filter:search | itemsPerPage:10 "  ng-if="gene.symbol != ''" >-->
                                    <!--<tr ng-repeat="gene in ctrl.inputGeneInfo |filter:search | itemsPerPage:10:'genesPagination'" current-page="currentPage" pagination-id="genesPagination" ng-if="gene.symbol != ''">-->
                                    <td>{{item.pathway}}</td>
                                    <!--<td>{{gene.valid}}</td>-->
                                    <td>{{item.pValue}}</td>
                                    <td>
                                        <span ng-repeat="gene_id in item.genes track by $index"><a
                                                ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{gene_id}}"
                                                target="_blank">{{gene_id}}</a>,&nbsp;</span>


                                        <!--<span ng-repeat="gene_id in item.genes track by $index" >-->
                                        <!--<a ng-href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{gene_id}}"-->
                                        <!--target="_blank">{{gene_id}}</a><br/>-->
                                        <!--</span>-->
                                    </td>


                                    <!--<td>{{gene.blosum50MaxScore}}</td>-->

                                    <!--</tr>-->
                                    </tbody>
                                </table>
                                <dir-pagination-controls
                                        pagination-id="metaData44"
                                        max-size="10"
                                        direction-links="true"
                                        boundary-links="true">
                                </dir-pagination-controls>
                                <!--<dir-pagination-controls-->
                                <!--max-size="10"-->
                                <!--direction-links="true"-->
                                <!--boundary-links="true" >-->
                                <!--</dir-pagination-controls>-->
                            </div>
                            <!--<canvas id="canvas" height="1300" width="1300"/>-->
                            <!--<br/>-->

                            <!--<canvas id="canvas" height="1300" width="1300">-->
                            <!--<div id="chartCola"></div>-->

                            <div id="chart5">

                                <div>
                                    <button class="btn1" id='force5' title='Implement force layout'>
                                        <i class='fa fa-random'></i>
                                    </button>
                                    <button class="btn2" id='circularView5' title='Implement circular layout'>
                                        <i class='fa fa-circle-o'></i>
                                    </button>
                                    <button class="btn3" id='parallelView5' title='Rearrange nodes in columns'>
                                        <i class='fa fa-align-justify'></i>
                                    </button>
                                    <!--<button class="btn4" id='customizedParallelView1' title='Implement parallel layout'>-->
                                    <!--<i class='fa fa-map-o'></i>-->
                                    <!--</button>-->
                                    <!--<button class="btn5" id='customizedCircularView1' title='Implement customized circular layout'>-->
                                    <!--<i class='fa fa-dot-circle-o'></i>-->
                                    <!--</button>-->
                                    <button class="btn6" id='download-png5' title='download as PNG'>
                                        <i class='fa fa-download'></i>
                                    </button>
                                    <button class="btn7" id='question5'
                                            title='Grey or colored nodes based on abundance: Query Gene Set, Red nodes: Pathways / Kinases Perturbation, Darker color reflects lower p-value in the enrichment analysis.'>
                                        <i class='fa fa-question-circle'></i>
                                    </button>
                                    <!--<button class="btn8" id='drug1'-->
                                    <!--title='grey nodes: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>-->
                                    <!--<i class='fa fa-eyedropper'></i>-->
                                    <!--</button>-->


                                </div>


                            </div>


                        </div>
                    </div>


                    <div ng-show="ctrl.showGeneNetwork">
                        <div class="well well-sm" style="background-color: #c9c9c9">
                            <h4>Kinase Network View


                                <span ng-show="!showKinaseNetworkProcessed && !kinaseError">
                                <span class="fa fa-spinner fa-pulse fa-1x fa-fw"></span>
                            </span>


                            </h4>
                            <div class="bs-callout bs-callout-primary">
                                <p> Kinase network view shows network of kinases phosohorylating the input genes and
                                    list of genes getting phosphorylated by the input genes.
                                </p>
                            </div>

                            <div ng-show="kinaseError">
                                <p style="color: red"> Gene-Kinase analysis error, Please try again.
                                </p>


                                <!--<button class="btn btn-primary "-->
                                <!--ng-click="tryEnrichmentGraph()">Try Again-->
                                <!--</button>-->
                            </div>
                            <div ng-show="showKinaseNetworkProcessed">

                                <button class="btn btn-primary "
                                        ng-click="makeKinaseGraph(ctrl.kinaseNetwork, ctrl.geneToAbundanceMap)">Show Kinase-Gene Association View
                                </button>
                                <button class="btn btn-primary "
                                        ng-click="hideKinaseGraph()">Hide
                                </button>

                            </div>
                        </div>
                        <!--<hr/>-->


                        <div ng-show="ctrl.showKinaseGraph">
                            <!--<button>-->
                            <!--<a id="download2" href="#">Download SVG-->
                            <!--</a>-->
                            <!--</button>-->
                            <br/>
                            <!--<div id="chart2"></div>-->
                            <div id="chart2">

                                <div>
                                    <button class="btn1" id='force2' title='Implement force layout'>
                                        <i class='fa fa-random'></i>
                                    </button>
                                    <button class="btn2" id='circularView2' title='Implement circular layout'>
                                        <i class='fa fa-circle-o'></i>
                                    </button>
                                    <button class="btn3" id='parallelView2' title='Rearrange nodes in columns'>
                                        <i class='fa fa-align-justify'></i>
                                    </button>
                                    <!--<button class="btn4" id='customizedParallelView1' title='Implement parallel layout'>-->
                                    <!--<i class='fa fa-map-o'></i>-->
                                    <!--</button>-->
                                    <!--<button class="btn5" id='customizedCircularView1' title='Implement customized circular layout'>-->
                                    <!--<i class='fa fa-dot-circle-o'></i>-->
                                    <!--</button>-->
                                    <button class="btn6" id='download-png2' title='download as PNG'>
                                        <i class='fa fa-download'></i>
                                    </button>
                                    <button class="btn7" id='question2'


                                            title='Grey or colored nodes based on abundance: Query Gene Set, Red nodes: Activating Kinases, Phosphorylating the Query Gene Set, Green npdes: Down Stream Gene Sets, Phosphorylated by the Gene Set'>
                                        <i class='fa fa-question-circle'></i>
                                    </button>
                                    <!--<button class="btn8" id='drug1'-->
                                    <!--title='grey nodes: Query Gene Set, Red nodes: Pathways / Kinases Perturbation'>-->
                                    <!--<i class='fa fa-eyedropper'></i>-->
                                    <!--</button>-->


                                </div>

                            </div>
                        </div>

                    </div>

                    <!--<div ng-show="ctrl.showPhosphoGeneNetwork">-->
                    <!--<div class="well">-->
                    <!--<h4>Kinase Network for Phosphorylated Genes View-->
                    <!--<span ng-show="!ctrl.showPhosphoGeneNetworkProcessed">-->
                    <!--<span class="fa fa-spinner fa-pulse fa-2x fa-fw"></span>-->
                    <!--</span>-->


                    <!--</h4>-->
                    <!--<div class="bs-callout bs-callout-primary">-->
                    <!--<p> Kinase network of phosphorylated genes reflects the connection between kinases and gene products-->
                    <!--phosphorylated-->
                    <!--at specific sites. Solid lines mean known relations between the kinases and target genes (in-->
                    <!--Known_Kinase_TargetGene) or-->
                    <!--exact matching between the kinase target and the peptide sequence in-->
                    <!--(Known+Predicted_Blosum50_Kinase_TargetGene and-->
                    <!--Known+Predicted_Probability_Kinase_TargetGene). Dashed lines show probable inkage between kinase-->
                    <!--and target genes based on blosum50 similarity scores or phosphosite plus connectivity networks.-->
                    <!--</p>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<hr/>-->
                    <!--<div ng-show="ctrl.showPhosphoGeneNetworkProcessed">-->

                    <!--<select-->
                    <!--ng-model="selectedphosphoPathways"-->
                    <!--ng-change="changedPhosphoValue(selectedphosphoPathways)"-->
                    <!--ng-options="x.value for x in phosphoOptions">-->
                    <!--</select>-->
                    <!--<hr/>-->
                    <!--<button>-->
                    <!--<a id="download3" href="#">Download SVG-->
                    <!--</a>-->
                    <!--</button>-->
                    <!--<br/>-->
                    <!--<div id="chart3"></div>-->
                    <!--</div>-->
                    <!--</div>-->


                </div>
            </div>


        </section>


    </div>

</div>
<!--</div>-->





